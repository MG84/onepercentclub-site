{% load templatetag_handlebars %}
{% load i18n %}
{% load static %}

{% tplhandlebars "wallpost_reaction" %}

	<span class="user-img">
        <img {{ bindAttr src="author.avatar" }} width="100%" alt="Avatar" />
    </span>
	<div class="reaction">
	    <a href="#" class="user">
            <strong>{{ author.full_name }}</strong>
            <em class="not-implemented">{%  trans "Member" %}</em> <small>{{ localize created "X" }}</small>
        </a>

        {{#if isAuthor}}
            <ul class="manage">
                {% comment %}
                    <li class="manage-edit not-implemented"><a href="#">{% trans "Edit" %}</a></li>
                {% endcomment %}
                <li class="manage-remove"><a {{ action "deleteReaction" target="view" }}>{% trans "Delete" %}</a></li>
            </ul>
        {{/if}}
		{{{ text }}}
	</div>

{% endtplhandlebars %}


{% tplhandlebars "wallpost_reaction_list" %}

    {# We need to use 'content' here (i.e. we can't use 'controller'). #}
    {{#each content itemController="wallPostReaction"}}
        {{view "App.WallPostReactionView" content=this}}
    {{/each}}

{% endtplhandlebars %}


{% tplhandlebars "wallpost_reaction_new" %}

    <fieldset>
    <ul>
        {{#if controllers.currentUser.isAuthenticated }}
            <li {{bindAttr class="errors.text.length:error"}}>
                <span class="user-img">
                    <img {{bindAttr src="controllers.currentUser.avatar" title="controllers.currentUser.fullname"}} width="100%" alt="Avatar" />
                </span>

                {{#each errors.text}}
                    <span class="error">{{this}}</span>
                {{/each}}
                {{view "Em.TextArea" placeholder="Leave a reaction"  valueBinding="content.text" name="reaction"}}
            </li>
        {{else}}
            <a href="/accounts/login">{% trans "Login" %}</a> {% trans "or become a" %} <a href="/accounts/signup">{% trans "member" %}</a> {% trans "to leave a comment." %}
        {{/if}}

    </ul>
    </fieldset>
    <button type="submit" id="reaction-post">Post</button>

{% endtplhandlebars %}



