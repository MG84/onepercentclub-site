{% load templatetag_handlebars %}
{% load i18n %}


{% tplhandlebars "wallpost_form_container" %}

    <section class="wrapper" id="wallpost-form">

        <!-- wallpost form -->
        <header>
            <h2>Comments &amp; Updates</h2>
            <p class="not-implemented">Hi Bart, your last update about this project was 16 days ago.</p>
        </header>

        {{view App.WallPostFormView}}

        <div class="sidebar tip not-implemented">
            <h3>Need some inspiration and tips on how to engage with your peers? Hereâ€™s some of our secrets:</h3>
            <p>Fusce quam enim, vehicula euismod porttitor vitae, facilisis a purus. Maecenas augue metus, consectetur eleifend posuere in, rhoncus ac enim.</p>
            <p><a href="#">Read some more</a></p>
        </div>
        <!-- end: wallpost form -->

    </section>

{% endtplhandlebars %}


{% tplhandlebars "wallpost_form" %}

    <fieldset>
        <ul>
            <li class="error">
                <label for="wallpost-title" class="inline">{% trans "Title of your update - Required" %}</label>
                {{view Ember.TextField valueBinding="view.wallpost.title" id="wallpost-title" name="wallpost-title"}}
            </li>
            <li>
                <label for="wallpost-update" class="inline">{% trans "Your update" %}</label>
                {{view Ember.TextArea valueBinding="view.wallpost.text" cols="50" rows="4" name="wallpost-update" id="wallpost-update"}}
            </li>
            <li>
                <label for="wallpost-video" class="inline">Link to video on <a href="#">YouTube</a> or <a href="#">Vimeo</a></label>
                {{view Ember.TextField valueBinding="view.wallpost.video_url" id="wallpost-video" name="wallpost-video"}}
            </li>
{#            TODO: Implment photos #}
{#            <li>#}
{#                <label for="wallpost-photos">Upload & add Photo's <small>(620 x 380 minimum for best results)</small></label>#}
{#                <span class="fileinput-button image">#}
{#                    <input id="wallpost-photos" class="fileupload" type="file" name="wallpost-photos[]" data-url="server/" multiple>#}
{#                </span>#}
{#            </li>#}
        </ul>
    </fieldset>

    <button type="submit">Post Update</button>

{% endtplhandlebars %}


{% tplhandlebars "wallpost" %}

    <header>
        <h3>{{view.content.title}} Not Empty</h3>
        <small class="timestamp">{{view.content.timesince}} {% trans "ago" %}</small>
        <a href="#" class="user initiator">
            <span class="user-img"><img {{bindAttr src="view.content.author.picture"}} width="100%" alt="Avatar" /></span>
            <strong>{{view.content.author.full_name}}</strong> <em class="not-implemented">{% trans "Project Initiator" %}</em>
        </a>

        <ul class="manage not-implemented">
            <li class="manage-edit"><a href="#" >{% trans "Edit" %}</a></li>
            <li class="manage-remove"><a href="#" >{% trans "Delete" %}</a></li>
        </ul>
    </header>

    <div class="content">

        {{#if view.content.video_html}}
            <div class="video">{{{view.content.video_html}}}</div>
        {{/if}}

        {{view.content.text}}

    </div>

    <!-- reaction-box -->
    <div class="reaction-box">

        <form action="#" method="post" class="reaction-form">
            <fieldset>
                <span class="user-img"><img {{bindAttr src="view.user.picture"}} width="100%" alt="Avatar" /></span>
                <label for="reaction-1" class="inline">
                    {# TODO: Create proper way to check for authenticated user. #}
                    {{#if view.user.first_name }}
                        Hey {{view.user.first_name}}, leave a comment behind!
                    {{else}}
                        {# TODO: Figure out a way to do composed translations - fragment sentences are hard for translators to deal with. #}
                        <a href="/accounts/login">{% trans "Login" %}</a> {% trans "to leave a comment." %}
                    {{/if}}
                </label>
                <textarea id="reaction-1" name="reaction"></textarea>
            </fieldset>

            <button type="submit" id="reaction-post">{% trans "Post" %}</button>
        </form>

        <ul class="reaction-actions">
            <li><a class="toggle-reactions" data-content="2 Comments" data-content-hover="Show comments" data-content-toggled="2 Comments" data-content-toggled-hover="Hide comments">2 Comments</a></li>
            <li><a class="toggle-love" data-content="22 love this" data-content-hover="Show your love!" data-content-toggled="23 - You loved this" data-content-toggled-hover="Unlove?">22 love this</a></li>
            <li class="share">
                <strong>Share this</strong>
                <ul class="share-actions">
                    <li class="share-facebook">Share on Facebook</li>
                    <li class="share-twitter"><a href="#">Share on Twitter</a></li>
                    <li class="share-url"><code>http://1pr.cc/237429/</code><a href="#" class="share-url-copy">Copy</a></li>
                </ul>
            </li>
        </ul>

        <ul class="reactions">
            <li class="initiator">
                <span class="user-img"><img src="/static/assets/dummy/avatar.jpg" width="100%" alt="Avatar" /></span>
                <div class="reaction">
                    <a href="#" class="user">By <strong>Jessica Jansen</strong> <em>Member</em> <small>4 days ago</small></a>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam lobortis posuere turpis, a dapibus ligula. Lorem ipsum do
                </div>
            </li>
            <li>
                <span class="user-img"><img src="/static/assets/dummy/avatar.jpg" width="100%" alt="Avatar" /></span>
                <div class="reaction">
                    <a href="#" class="user">By <strong>Jessica Jansen</strong> <em>Member</em> <small>4 days ago</small></a>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam lobortis posuere turpis, a dapibus ligula. Lorem ipsum do
                </div>
            </li>
       </ul>

    </div>
    <!-- end: reaction-box -->

{% endtplhandlebars %}