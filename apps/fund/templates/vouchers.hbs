{% load templatetag_handlebars %}
{% load i18n %}


{% tplhandlebars "voucher_start" %}

    <div class="container section voucher-banner">

        <header class="wrapper">
            <div class="voucher-banner-title">
                <h1 class="">{% trans "Give" %}</h1>
                <h1 class="">{% trans "a gift" %}</h1>
                <h1 class="">{% trans "that keeps on giving" %}</h1>
                <h1 class="pink">{% trans "Give a" %}</h1>
                <h1 class="pink">{% trans "1%GIFTCARD" %} </h1>
            </div>

            <div class="voucher-banner-calltoaction">


                {{#linkTo "voucherRedeem" class="btn btn-large"}}
                    <i class="icon icon-credit-card"></i>

                    <div class="btn-content">
                        <div class="btn-title">{% trans "I received a 1%GIFTCARD" %}</div>
                        <div class="btn-subtitle">{% trans "Support a project by cashing your voucher" %}</div>
                    </div>
                {{/linkTo}}



                {{#linkTo "currentOrder.voucherList" class="btn btn-large btn-primary"}}
                    <i class="icon icon-gift"></i>

                    <div class="btn-content">
                        <div class="btn-title">{% trans "I'd like to buy a 1%GIFTCARD" %}</div>
                        <div class="btn-subtitle">{% trans "Order your digital email-vouchers right here!" %}</div>
                    </div>

                {{/linkTo}}

                <p class="text-right voucher-custom">
                    <i class="icon icon-certificate"></i> {% trans "Need a (large) batch or custom cards?" %}
                    {{#linkTo "customVoucherRequest" }}
                        {% trans "Contact us!" %}
                    {{/linkTo}}
                </p>
            </div>
        </header>

    </div>

    <div class="container">
        <section class="wrapper">
            <ul class="voucher-instructions">
                <li>
                    <div class="voucher-ins-step">1</div>
                    <h2>{% trans "Give" %}</h2>

                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam porta, nisi a fermentum vehicula, sapien dui facilisis arcu, in ullamcorper nisl purus id neque.</p>
                </li>

                <li>
                    <div class="voucher-ins-step">2</div>
                    <h2>{% trans "Choose" %}</h2>

                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam porta, nisi a fermentum vehicula, sapien dui facilisis arcu, in ullamcorper nisl purus id neque.</p>
                </li>

                <li>
                    <div class="voucher-ins-step">3</div>
                    <h2>{% trans "Follow" %}</h2>

                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam porta, nisi a fermentum vehicula, sapien dui facilisis arcu, in ullamcorper nisl purus id neque.</p>
                </li>
            </ul>
        </section>
    </div>

{% endtplhandlebars %}


{% tplhandlebars "voucher_redeem" %}

    <div class="container section">
        <div class="wrapper">
            <div class="content">
                <h1 class="main-title">{% trans "Redeem your 1%GIFTCARD and support a project!" %}</h1>
            </div>
            <sidebar>
                {{#linkTo "currentOrder.donationList" tagName="a" class="button-link"}}
                    <em class="icon-credit-card"></em> {% trans "Switch to donations" %}
                {{/linkTo}}
            </sidebar>
        </div>
    </div>

    <div class="container">

        <section class="wrapper">

            <ul class="voucher-steps">
                {{#view App.OrderNavView classNames="support selected"}}
                    {{#linkTo "voucherRedeem"}}Support{{/linkTo}}
                {{/view}}
                {{#view App.OrderNavView classNames="profile"}}
                    <a>{% trans "Profile" %}</a>
                {{/view}}
            </ul>

            {{#if voucher.isLoaded}}
                <form class="labeled">
                    <fieldset class="">
                        <div class="label">{% trans "Gift card" %}</div>
                        <div class="label ok">&#10004; {{voucher.code}}</div>
                        <div class="label">{% trans "code accepted" %}</div>
                        <div class="label ok">
                            <span class="right big-text">&euro;{{voucher.amount}}</span>
                        </div>
                    </fieldset>

                    <ul id="donation-projects">
                        {{#each voucher.donations}}
                            {{view App.VoucherDonationView content=this}}
                        {{else}}
                            <li class="donation-project">
                                {{#linkTo "projectList"}}
                                    <h1>
                                        {% trans "Choose a project to support with this gift card" %}
                                    </h1>
                                    <b>You can make it work!</b>
                                {{/linkTo}}
                            </li>
                        {{/each}}
                    </ul>
                    {{#if voucher.donations.length}}
                        <button {{action "redeemVoucher" target="controller"}} type="submit" class="button right">
                            {% trans "Submit" %}
                        </button>
                    {{else}}
                        <button disabled class="button right">
                            {% trans "Submit" %}
                        </button>
                    {{/if}}
                </form>

            {{else}}
                <form class="labeled">
                    <fieldset>
                        <ul>
                            <li class="control-group">
                                <label class="control-label">{% trans "Gift card code" %}</label>

                                <div class="controls">
                                    {{view Em.TextField valueBinding="code" placeholder="Your code" classBinding="error:error"}}
                                </div>

                                {{#if error}}
                                    <div class="errors"><p>{% trans "Unfortunately we couldn't find a gift card with this code. Try entering the code again or send us a message and we will sort it out." %}</p></div>
                                {{/if}}
                            </li>
                        </ul>
                    </fieldset>

                    <button {{action "submitVoucherCode" target="controller"}} type="submit" class="btn right">
                        {% trans "Submit" %}
                    </button>
                </form>
            {{/if}}

        </section>
    </div>

{% endtplhandlebars %}static/global/css/print.css


{% tplhandlebars "voucher_redeem_done" %}

    <div class="container section">

        <header class="wrapper">
            <h1 class="">YOU MAKE IT WORK!</h1>
        </header>

    </div>

{% endtplhandlebars %}


{% tplhandlebars "voucher_donation" %}

    {{#linkTo "project" project}}
        <img {{bindAttr src="project.image_square"}} class="project-image" alt="Project Name" />
    {{/linkTo}}
    <h1>
        {{#linkTo "project" project}}
            {{project.title}}
        {{/linkTo}}
        <em class="country">{{project.country.name}}</em>
    </h1>
    <p class="donation-amount">
        {{#if amount}}
            <span class="big currency">&euro; {{amount}}</span>
        {{/if}}
    </p>

    {# add this for multiple donations per voucher #}
    {# <a class="remove" {{action "delete" this target="view" }}>{% trans "Remove" %}</a> #}

{% endtplhandlebars %}


{% tplhandlebars "custom_voucher_request" %}

    <div class="container section">
        <header class="wrapper">
            <div class="content">
                <h1 class="">{% trans "Contact us for custom 1%GIFTCARDS" %}</h1>
                {% trans "Please send us a message and tell us your wishes and we will contact you as soon as possible. Or call us directly on (+31) 20 715 8980." %}
            </div>
        </header>
    </div>
    <br/>
    <div class="container">
        <section class="wrapper">

            <div class="content gray">

                <form class="labeled">

                    {{#each errors.amount}}<span class="error">{{this}}</span>{{/each}}
                    <div class="label">{% trans "Amount" %}</div>
                    {{view Em.TextField valueBinding="amount" type="number" step="10" classBinding="errors.amount.length:error"}}

                    {{#each errors.contact_name}}<span class="error">{{this}}</span>{{/each}}
                    <div class="label">{% trans "Your name" %}</div>
                    {{view Em.TextField valueBinding="contact_name" classBinding="errors.contact_name.length:error"}}

                    {{#each errors.contact_email}}<span class="error">{{this}}</span>{{/each}}
                    <div class="label">{% trans "Your email" %}</div>
                    {{view Em.TextField valueBinding="contact_email" classBinding="errors.contact_email.length:error"}}

                    {{#each errors.organization}}<span class="error">{{this}}</span>{{/each}}
                    <div class="label">{% trans "Organisation" %}</div>
                    {{view Em.TextField valueBinding="organization" classBinding="errors.organization.length:error"}}

                    {{#each errors.contact_phone}}<span class="error">{{this}}</span>{{/each}}
                    <div class="label">{% trans "Phone number" %}</div>
                    {{view Em.TextField valueBinding="contact_phone" classBinding="errors.contact_phone.length:error"}}

                    {{#each errors.message}}<span class="error">{{this}}</span>{{/each}}
                    <div class="label wide">{% trans "Anything else you’d like to ask? Send us a message!" %}</div>
                    {{view Em.TextArea valueBinding="message" classBinding="errors.message.length:error"}}

                    <a class="right button" {{action sendRequest target="controller"}}>{% trans "Send message" %}</a>
                </form>
            </div>
        </section>
    </div>

{% endtplhandlebars %}
