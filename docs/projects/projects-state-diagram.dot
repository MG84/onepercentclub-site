// http://old.nabble.com/Fixedsize-nodes-respecting-label-size-td23537069.html
//
// Generate pdf with this line to get equal sized nodes:
//
// dot -Tpdf -Nwidth=$(dot project-states.dot | sed -E -n 's/^.*width="([0-9.]+)".*$/\1/p' | sort | tail -1) -O project-states.dot

digraph G {
	/*
	 * Global graph settings
	 */
        size="7.87,11.29"; // fit on A4 paper (size in inches)
	ratio=fill;
	margin="0.2";
	node [ shape=circle ];

	/*
	 * Edge definitions
	 */
	// Idea: in progress
	Start -> idea_in_progress;
	idea_in_progress -> idea_in_progress [ label=" Save",style=dotted ];
	idea_in_progress -> idea_waiting_for_approval [ label=" Ask for Approval" ];

	// Idea: waiting for approval
	idea_waiting_for_approval -> idea_in_progress  [ label=" Not Aprroved\n with Comments" ];
	idea_waiting_for_approval -> idea_rejected [ label=" Not Approved" ];
	idea_waiting_for_approval -> funding_in_progress [ label=" Approved / Coach Assigned" ];

	// Plan: in progress
	funding_in_progress -> funding_in_progress [ label=" Save",style=dotted ];
	funding_in_progress -> funding_waiting_for_approval [ label=" Ask for Approval" ];

	// Plan: waiting for approval
	funding_waiting_for_approval -> funding_in_progress  [ label=" Not Aprroved\n with Comments" ];
	funding_waiting_for_approval -> funding_waiting_for_funding [ label=" Approved" ];

	// Plan: waiting for funding
	funding_waiting_for_funding -> act_in_progress [ label=" Project Funded" ];

	// Act: in progress
	act_in_progress -> results_in_progress [ label=" Mark as Complete" ];

	// Results: in progress
	results_in_progress -> results_in_progress [ label=" Save",style=dotted ];
	results_in_progress -> results_waiting_for_approval [ label=" Results posted" ];

	// Results: waiting for approval
	results_waiting_for_approval -> results_in_progress [ label=" Not Approved\n with Comments" ];
	results_waiting_for_approval -> project_complete [ label=" Results approved" ];

	/*
	 * Node properties
	 */
	// start / end
	Start [ shape=plaintext ];
	project_complete [ label="Project\nComplete" ];

	// Idea
	idea_in_progress [ label="Idea\nin progress" ];
	idea_waiting_for_approval [ label="Idea\nwaiting for\napproval" ];
	idea_rejected [ label="Idea\nrejected",shape=circle ];

	// Funding
	funding_in_progress [ label="Funding\nin progress",shape=circle ];
	funding_waiting_for_approval [ label="Funding\nwaiting for\napproval" ];
	funding_waiting_for_funding [ label="Funding\nwaiting for\nfunding" ];

	// Act
	act_in_progress [ label="Act\nin progress" ];

	// Results
	results_in_progress [ label="Results\nin progress" ];
	results_waiting_for_approval [ label="Results\nwaiting for\napproval" ];

	/*
	 * Node levels
	 */
	{ rank=same; funding_in_progress project_complete };
	{ rank=same; funding_waiting_for_approval results_waiting_for_approval };
	{ rank=same; funding_waiting_for_funding results_in_progress };
}

