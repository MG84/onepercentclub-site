{% extends "accounts:accounts/nav.html" %}
{% load bb_ember i18n %}

{% block_verbatim profile_anchor %}
    <a href="#" class="nav-member-dropdown">
        <img width="40" {{bindAttr src="controllers.currentUser.getAvatar"}} height="40" alt="Your Avatar" />
        <strong>
            {% trans "My 1%" %}
            <span class="flaticon solid down-2"></span>
        </strong>
    </a>
{% endblock_verbatim profile_anchor %}


{% block_verbatim my_menu %}

    <li>
        {{#linkTo "userProfile" }}
            {% trans "Edit my profile & settings" %}
        {{/linkTo }}
    </li>
        <li>
            {{#linkTo "userMonthlyProjects" }}
                {% trans "My Donations" %}
            {{/linkTo}}
        </li>


    {{#if controllers.myProjectList.model.length }}
        <li>
            {{#linkTo "myProjectList" }}
                {% trans "Manage My Project" %}
            {{/linkTo}}
        </li>
    {{/if}}

    <li>
        {% block logout_anchor %}
            <a href="{% url 'accounts:logout' %}?next=/{{ LANGUAGE_CODE }}/">Logout</a>
        {% endblock logout_anchor %}
    </li>

    <li class="nav-my-language">
        {% trans "Language" %} {{view "App.LanguageSwitchView"}}
    </li>

{% endblock_verbatim my_menu %}


{% block_verbatim donations_anchor %}
    <!-- <a href="#" class="nav-notifications"><strong class="nav-notifications-nr">999</strong> Notifications &#9660;</a> -->
    {{#if controllers.currentOrder.donations.length }}
        <li class="nav-cart">
            {{#linkTo 'currentOrder.index'}}
                <span class="nav-cart-count">{{ controllers.currentOrder.donations.length }}</span>
                {% trans "Donations" %} 
                <span class="flaticon solid right-2"></span>
            {{/linkTo}}
        </li>
    {{/if}}
{% endblock_verbatim donations_anchor %}

{% block_verbatim profile_anchor %}
    <a href="#" class="nav-member-dropdown">
        <img width="40" {{bindAttr src="controllers.currentUser.getAvatar"}} height="40" alt="Your Avatar" />
        <strong>
            {% trans "My 1%" %}
            <span class="flaticon solid down-2"></span>
        </strong>
    </a>
{% endblock_verbatim profile_anchor %}

{% block_verbatim anonymous_user %}
    <li class="nav-signup-login">
        {{#linkTo "signup" class="nav-signup"}}{% trans "Sign up" %}{{/linkTo}}
        {% trans "or" %}
        <a {{action 'openInBox' "login"}} class="nav-login">{%  trans "Login" %}</a>
    </li>
    <li class="nav-switch-language">
        {{view "App.LanguageSwitchView"}}
    </li>
{% endblock_verbatim anonymous_user %}