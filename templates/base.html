{% comment %} Use url tag from Django 1.5. {% endcomment %}
{% load url from future %}

{% load compress %}<!DOCTYPE HTML>
<html lang="{{ LANGUAGE_CODE }}">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<title>{% block htmltitle %}bluebottle{% endblock %}</title>

    {% comment %}Script/CSS order: http://developer.yahoo.com/performance/rules.html{% endcomment %}

	{% compress css %}
        <link rel="stylesheet" href="{{ STATIC_URL }}global/css/main.css" type="text/css" />
	{% endcompress %}

	{% compress js %}
	    <script type="text/javascript" charset="utf-8" src="{{ STATIC_URL }}global/js/main.js"></script>
	{% endcompress %}

	<link rel="stylesheet/less" type="text/css" href="{{ STATIC_URL }}global/css/main.less">
	<script type="text/javascript" src="{{ STATIC_URL }}global/js/lib/less-1.3.0.min.js"></script>

	{% block htmlheader %}{% endblock %}
</head>

<body>

    {% if user.is_authenticated %}
    {{ user.username }} |
    <a href="{% url 'logout' %}?next={% firstof request.path "/" %}">Logout</a>
    {% else %}
    <a href="{% url 'login' %}?next={% firstof request.path "/" %}">Login</a> |
    <span style="opacity:0.4;-moz-user-select: none;-khtml-user-select:none;user-select:none;">Register</span>
    {% endif %}

    {% block content %}{% endblock %}

    <script type="text/javascript">
    var _urq = _urq || [];
    _urq.push(['initSite', '6b390f06-ad91-4a87-8217-0d591dfb02d7']);
    (function() {
    var ur = document.createElement('script'); ur.type = 'text/javascript'; ur.async = true;
    ur.src = 'http://sdscdn.userreport.com/userreport.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ur, s);
    })();
    </script>
</body>
</html>