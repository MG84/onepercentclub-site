// TODO: Combine this Country model with the one in projects and use API for loading this list.
App.CountryList = [
    {"value": "AF", "title": "Afghanistan"},
    {"value": "AX", "title": "\u00c5land Islands"},
    {"value": "AL", "title": "Albania"},
    {"value": "DZ", "title": "Algeria"},
    {"value": "AS", "title": "American Samoa"},
    {"value": "AD", "title": "Andorra"},
    {"value": "AO", "title": "Angola"},
    {"value": "AI", "title": "Anguilla"},
    {"value": "AG", "title": "Antigua and Barbuda"},
    {"value": "AR", "title": "Argentina"},
    {"value": "AM", "title": "Armenia"},
    {"value": "AW", "title": "Aruba"},
    {"value": "AU", "title": "Australia"},
    {"value": "AT", "title": "Austria"},
    {"value": "AZ", "title": "Azerbaijan"},
    {"value": "BS", "title": "Bahamas"},
    {"value": "BH", "title": "Bahrain"},
    {"value": "BD", "title": "Bangladesh"},
    {"value": "BB", "title": "Barbados"},
    {"value": "BY", "title": "Belarus"},
    {"value": "BE", "title": "Belgium"},
    {"value": "BZ", "title": "Belize"},
    {"value": "BJ", "title": "Benin"},
    {"value": "BM", "title": "Bermuda"},
    {"value": "BT", "title": "Bhutan"},
    {"value": "BO", "title": "Bolivia"},
    {"value": "BQ", "title": "Bonaire, Saint Eustatius and Saba"},
    {"value": "BA", "title": "Bosnia and Herzegovina"},
    {"value": "BW", "title": "Botswana"},
    {"value": "BR", "title": "Brazil"},
    {"value": "BN", "title": "Brunei Darussalam"},
    {"value": "BG", "title": "Bulgaria"},
    {"value": "BF", "title": "Burkina Faso"},
    {"value": "BI", "title": "Burundi"},
    {"value": "KH", "title": "Cambodia"},
    {"value": "CM", "title": "Cameroon"},
    {"value": "CA", "title": "Canada"},
    {"value": "CV", "title": "Cape Verde"},
    {"value": "KY", "title": "Cayman Islands"},
    {"value": "CF", "title": "Central African Republic"},
    {"value": "TD", "title": "Chad"},
    {"value": "", "title": "Channel Islands"},
    {"value": "CL", "title": "Chile"},
    {"value": "CN", "title": "China"},
    {"value": "CO", "title": "Colombia"},
    {"value": "KM", "title": "Comoros"},
    {"value": "CG", "title": "Congo"},
    {"value": "CK", "title": "Cook Islands"},
    {"value": "CR", "title": "Costa Rica"},
    {"value": "CI", "title": "C\u00f4te d'Ivoire "},
    {"value": "HR", "title": "Croatia"},
    {"value": "CU", "title": "Cuba"},
    {"value": "CW", "title": "Cura\u00e7ao"},
    {"value": "CY", "title": "Cyprus"},
    {"value": "CZ", "title": "Czech Republic"},
    {"value": "KP", "title": "Democratic People's Republic of Korea"},
    {"value": "CD", "title": "Democratic Republic of the Congo"},
    {"value": "DK", "title": "Denmark"},
    {"value": "DJ", "title": "Djibouti"},
    {"value": "DM", "title": "Dominica"},
    {"value": "DO", "title": "Dominican Republic"},
    {"value": "EC", "title": "Ecuador"},
    {"value": "EG", "title": "Egypt"},
    {"value": "SV", "title": "El Salvador"},
    {"value": "GQ", "title": "Equatorial Guinea"},
    {"value": "ER", "title": "Eritrea"},
    {"value": "EE", "title": "Estonia"},
    {"value": "ET", "title": "Ethiopia"},
    {"value": "FO", "title": "Faeroe Islands"},
    {"value": "FK", "title": "Falkland Islands (Malvinas)"},
    {"value": "FJ", "title": "Fiji"},
    {"value": "FI", "title": "Finland"},
    {"value": "FR", "title": "France"},
    {"value": "GF", "title": "French Guiana"},
    {"value": "PF", "title": "French Polynesia"},
    {"value": "GA", "title": "Gabon"},
    {"value": "GM", "title": "Gambia"},
    {"value": "GE", "title": "Georgia"},
    {"value": "DE", "title": "Germany"},
    {"value": "GH", "title": "Ghana"},
    {"value": "GI", "title": "Gibraltar"},
    {"value": "GR", "title": "Greece"},
    {"value": "GL", "title": "Greenland"},
    {"value": "GD", "title": "Grenada"},
    {"value": "GP", "title": "Guadeloupe"},
    {"value": "GU", "title": "Guam"},
    {"value": "GT", "title": "Guatemala"},
    {"value": "GG", "title": "Guernsey"},
    {"value": "GN", "title": "Guinea"},
    {"value": "GW", "title": "Guinea-Bissau"},
    {"value": "GY", "title": "Guyana"},
    {"value": "HT", "title": "Haiti"},
    {"value": "VA", "title": "Holy See"},
    {"value": "HN", "title": "Honduras"},
    {"value": "HK", "title": "Hong Kong"},
    {"value": "HU", "title": "Hungary"},
    {"value": "IS", "title": "Iceland"},
    {"value": "IN", "title": "India"},
    {"value": "ID", "title": "Indonesia"},
    {"value": "IR", "title": "Iran"},
    {"value": "IQ", "title": "Iraq"},
    {"value": "IE", "title": "Ireland"},
    {"value": "IM", "title": "Isle of Man"},
    {"value": "IL", "title": "Israel"},
    {"value": "IT", "title": "Italy"},
    {"value": "JM", "title": "Jamaica"},
    {"value": "JP", "title": "Japan"},
    {"value": "JE", "title": "Jersey"},
    {"value": "JO", "title": "Jordan"},
    {"value": "KZ", "title": "Kazakhstan"},
    {"value": "KE", "title": "Kenya"},
    {"value": "KI", "title": "Kiribati"},
    {"value": "XK", "title": "Kosovo"},
    {"value": "KW", "title": "Kuwait"},
    {"value": "KG", "title": "Kyrgyzstan"},
    {"value": "LA", "title": "Lao People's Democratic Republic"},
    {"value": "LV", "title": "Latvia"},
    {"value": "LB", "title": "Lebanon"},
    {"value": "LS", "title": "Lesotho"},
    {"value": "LR", "title": "Liberia"},
    {"value": "LY", "title": "Libya"},
    {"value": "LI", "title": "Liechtenstein"},
    {"value": "LT", "title": "Lithuania"},
    {"value": "LU", "title": "Luxembourg"},
    {"value": "MO", "title": "Macao"},
    {"value": "MG", "title": "Madagascar"},
    {"value": "MW", "title": "Malawi"},
    {"value": "MY", "title": "Malaysia"},
    {"value": "MV", "title": "Maldives"},
    {"value": "ML", "title": "Mali"},
    {"value": "MT", "title": "Malta"},
    {"value": "MH", "title": "Marshall Islands"},
    {"value": "MQ", "title": "Martinique"},
    {"value": "MR", "title": "Mauritania"},
    {"value": "MU", "title": "Mauritius"},
    {"value": "YT", "title": "Mayotte"},
    {"value": "MX", "title": "Mexico"},
    {"value": "FM", "title": "Micronesia (Federated States of)"},
    {"value": "MC", "title": "Monaco"},
    {"value": "MN", "title": "Mongolia"},
    {"value": "ME", "title": "Montenegro"},
    {"value": "MS", "title": "Montserrat"},
    {"value": "MA", "title": "Morocco"},
    {"value": "MZ", "title": "Mozambique"},
    {"value": "MM", "title": "Myanmar"},
    {"value": "NA", "title": "Namibia"},
    {"value": "NR", "title": "Nauru"},
    {"value": "NP", "title": "Nepal"},
    {"value": "NL", "title": "Netherlands"},
    {"value": "NC", "title": "New Caledonia"},
    {"value": "NZ", "title": "New Zealand"},
    {"value": "NI", "title": "Nicaragua"},
    {"value": "NE", "title": "Niger"},
    {"value": "NG", "title": "Nigeria"},
    {"value": "NU", "title": "Niue"},
    {"value": "NF", "title": "Norfolk Island"},
    {"value": "MP", "title": "Northern Mariana Islands"},
    {"value": "NO", "title": "Norway"},
    {"value": "PS", "title": "Occupied Palestinian Territory"},
    {"value": "OM", "title": "Oman"},
    {"value": "PK", "title": "Pakistan"},
    {"value": "PW", "title": "Palau"},
    {"value": "PA", "title": "Panama"},
    {"value": "PG", "title": "Papua New Guinea"},
    {"value": "PY", "title": "Paraguay"},
    {"value": "PE", "title": "Peru"},
    {"value": "PH", "title": "Philippines"},
    {"value": "PN", "title": "Pitcairn"},
    {"value": "PL", "title": "Poland"},
    {"value": "PT", "title": "Portugal"},
    {"value": "PR", "title": "Puerto Rico"},
    {"value": "QA", "title": "Qatar"},
    {"value": "KR", "title": "Republic of Korea"},
    {"value": "MD", "title": "Republic of Moldova"},
    {"value": "RE", "title": "R\u00e9union"},
    {"value": "RO", "title": "Romania"},
    {"value": "RU", "title": "Russian Federation"},
    {"value": "RW", "title": "Rwanda"},
    {"value": "BL", "title": "Saint-Barth\u00e9lemy"},
    {"value": "SH", "title": "Saint Helena"},
    {"value": "KN", "title": "Saint Kitts and Nevis"},
    {"value": "LC", "title": "Saint Lucia"},
    {"value": "MF", "title": "Saint-Martin (French part)"},
    {"value": "PM", "title": "Saint Pierre and Miquelon"},
    {"value": "VC", "title": "Saint Vincent and the Grenadines"},
    {"value": "WS", "title": "Samoa"},
    {"value": "SM", "title": "San Marino"},
    {"value": "ST", "title": "S\u00e3o Tom\u00e9 and Pr\u00edncipe"},
    {"value": "", "title": "Sark"},
    {"value": "SA", "title": "Saudi Arabia"},
    {"value": "SN", "title": "Senegal"},
    {"value": "RS", "title": "Serbia"},
    {"value": "SC", "title": "Seychelles"},
    {"value": "SL", "title": "Sierra Leone"},
    {"value": "SG", "title": "Singapore"},
    {"value": "SX", "title": "Sint Maarten (Dutch part)"},
    {"value": "SK", "title": "Slovakia"},
    {"value": "SI", "title": "Slovenia"},
    {"value": "SB", "title": "Solomon Islands"},
    {"value": "SO", "title": "Somalia"},
    {"value": "ZA", "title": "South Africa"},
    {"value": "SS", "title": "South Sudan"},
    {"value": "ES", "title": "Spain"},
    {"value": "LK", "title": "Sri Lanka"},
    {"value": "SD", "title": "Sudan"},
    {"value": "SR", "title": "Suriname"},
    {"value": "SJ", "title": "Svalbard and Jan Mayen Islands"},
    {"value": "SZ", "title": "Swaziland"},
    {"value": "SE", "title": "Sweden"},
    {"value": "CH", "title": "Switzerland"},
    {"value": "SY", "title": "Syrian Arab Republic"},
    {"value": "TJ", "title": "Tajikistan"},
    {"value": "TZ", "title": "Tanzania"},
    {"value": "TH", "title": "Thailand"},
    {"value": "MK", "title": "The former Yugoslav Republic of Macedonia"},
    {"value": "TL", "title": "Timor-Leste"},
    {"value": "TG", "title": "Togo"},
    {"value": "TK", "title": "Tokelau"},
    {"value": "TO", "title": "Tonga"},
    {"value": "TT", "title": "Trinidad and Tobago"},
    {"value": "TN", "title": "Tunisia"},
    {"value": "TR", "title": "Turkey"},
    {"value": "TM", "title": "Turkmenistan"},
    {"value": "TC", "title": "Turks and Caicos Islands"},
    {"value": "TV", "title": "Tuvalu"},
    {"value": "UG", "title": "Uganda"},
    {"value": "UA", "title": "Ukraine"},
    {"value": "AE", "title": "United Arab Emirates"},
    {"value": "GB", "title": "United Kingdom"},
    {"value": "US", "title": "United States of America"},
    {"value": "UY", "title": "Uruguay"},
    {"value": "UZ", "title": "Uzbekistan"},
    {"value": "VU", "title": "Vanuatu"},
    {"value": "VE", "title": "Venezuela"},
    {"value": "VN", "title": "Viet Nam"},
    {"value": "VG", "title": "Virgin Islands, British"},
    {"value": "VI", "title": "Virgin Islands, U.S."},
    {"value": "WF", "title": "Wallis and Futuna"},
    {"value": "EH", "title": "Western Sahara"},
    {"value": "YE", "title": "Yemen"},
    {"value": "ZM", "title": "Zambia"},
    {"value": "ZW", "title": "Zimbabwe"}
];


App.CountrySelectView = Em.Select.extend({
    content: App.CountryList,
    optionValuePath: "content.value",
    optionLabelPath: "content.title"
});

// TODO: get this list from the server
App.ExpertiseList = [
    {value: "unknown", title: "unknown"},
    {value: "research", title: "(online) Research"},
    {value: "agriculture", title: "Agriculture"},
    {value: "engineering", title: "Architecture/Engineering"},
    {value: "blogging", title: "Blogging"},
    {value: "brainstorming", title: "Brainstorming"},
    {value: "business_modelling", title: "Business Modelling"},
    {value: "community_engagement", title: "Community Engagement"},
    {value: "ict", title: "Computer/ICT"},
    {value: "copy_writing ", title: "Copy writing"},
    {value: "design", title: "Design"},
    {value: "education", title: "Education/Training"},
    {value: "finance", title: "Finance"},
    {value: "fund_raising", title: "Fund raising"},
    {value: "feedback", title: "Giving feedback"},
    {value: "health_care", title: "Health care"},
    {value: "hrm", title: "HRM"},
    {value: "law_and_politics", title: "Law enforcement & politics"},
    {value: "logistics", title: "Logistics"},
    {value: "pr", title: "Marketing/PR"},
    {value: "mobile_phones", title: "Mobile Phones"},
    {value: "presentations", title: "Presentations"},
    {value: "project_management", title: "Project Management"},
    {value: "social_media", title: "Social Media"},
    {value: "sustainability ", title: "Sustainability"},
    {value: "tourism", title: "Tourism"},
    {value: "translations", title: "Translations"},
    {value: "web_development", title: "Web Development"},
    {value: "writing_proposals", title: "Writing proposals"}

];

App.ExpertiseSelectView = Em.Select.extend({
    content: App.ExpertiseList,
    optionValuePath: "content.value",
    optionLabelPath: "content.title"
});

App.TimeNeededList = [
    {value: 0.25, title: "up to 15 minutes"},
    {value: 0.5, title: "half an hour"},
    {value: 1, title: "up to one hour"},
    {value: 2, title: "two hours"},
    {value: 4, title: "half a day"},
    {value: 8, title: "one day"},
    {value: 16, title: "two days"},
    {value: 40, title: "one week"},
    {value: 80, title: "two weeks"},
    {value: 160, title: "one month"}

];

App.TimeNeededSelectView = Em.Select.extend({
    content: App.TimeNeededList,
    optionValuePath: "content.value",
    optionLabelPath: "content.title"
});

App.TimeAvailableList = [
    {value: '1-4_hours_week', title: '1-4 hours per week'},
    {value: '5-8_hours_week', title: '5-8 hours per week'},
    {value: '9-16_hours_week', title: '9-16 hours per week'},
    {value: '1-4_hours_month', title: '1-4 hours per month'},
    {value: '5-8_hours_month', title: '5-8 hours per month'},
    {value: '9-16_hours_month', title: '9-16 hours per month'},
    {value: '9-16_hours_month', title: 'I have all the time in the world. Bring it on :D'},
    {value: '9-16_hours_month', title: 'It depends on the content of the tasks. Challenge me!'}
];

App.TimeAvailableSelectView = Em.Select.extend({
    content: App.TimeAvailableList,
    optionValuePath: "content.value",
    optionLabelPath: "content.title"
});

App.IsAuthorMixin = Em.Mixin.create({
    isAuthor: function () {
        var username = this.get('controllers.currentUser.username');
        var authorname = this.get('author.username');
        if (username) {
            return (username == authorname);
        }
        return false;
    }.property('author.username', 'controllers.currentUser.username')
});


App.DeleteModelMixin = Em.Mixin.create({
    deleteRecordOnServer: function () {
        var record = this.get('model');
        var transaction = this.get('store').transaction();
        transaction.add(record);
        record.deleteRecord();
        transaction.commit();
    }
});

App.UploadFile = Ember.TextField.extend({
    type: 'file',
    attributeBindings: ['name'],
    change: function (evt) {
        var self = this;
        var input = evt.target;
        var self = this;
        var input = evt.target;
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            var that = this;
            reader.onload = function (e) {
                var fileToUpload = e.srcElement.result;
                self.get('controller').set(self.get('name'), fileToUpload);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
});


// The id will be the tag string.
App.Tag = DS.Model.extend({
    url: 'tags'
});



// See/Use App.DatePicker
App.DatePickerValue = Ember.TextField.extend({
    type: 'hidden',
    valueBinding: "parentView.value"

});

// See/Use App.DatePicker
App.DatePickerWidget = Ember.TextField.extend({

    dateBinding: "parentView.value",

    didInsertElement: function(){
        // FIXME: Have the max date as a param. No hardcoded like this!
        this.$().datepicker({minDate: 0, maxDate: "+3M"});
        this.$().datepicker('setDate',this.get('date'));

    },
    change: function(){

        this.set('date', this.$().datepicker('getDate'));
    }
});

// This renders a TextField with the localized date.
// On click it will use jQuery UI date picker dialog so the user can select a date.
// valueBinding should bind to a  DS.attr('date') property of an Ember model.
App.DatePicker = Ember.ContainerView.extend({
    childViews: [App.DatePickerValue, App.DatePickerWidget]

});

